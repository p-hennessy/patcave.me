<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Sharkbay! - The Patcave</title><meta name="description" content="I got another map accepted by Valve for Team Fortress 2! I'd like to just showcase some of the work I did for the map here."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://patcave.me/sharkbay/"><link rel="amphtml" href="https://patcave.me/amp/sharkbay/"><link rel="alternate" type="application/atom+xml" href="https://patcave.me/feed.xml"><link rel="alternate" type="application/json" href="https://patcave.me/feed.json"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700&amp;subset=latin-ext&amp;display=swap" rel="stylesheet"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:'Roboto Condensed',sans-serif;--logo-font:'Roboto Condensed',sans-serif;--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://patcave.me/assets/css/style.css?v=35ebb76b71af033416f05d385dc74eaa"><link rel="stylesheet" href="https://patcave.me/assets/css/photoswipe.css?v=7331f6eb15671b2fc8e3ffd46e849f7b"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://patcave.me/sharkbay/"},"headline":"Sharkbay!","datePublished":"2023-07-12T22:33","dateModified":"2023-07-21T06:09","image":{"@type":"ImageObject","url":"https://patcave.me/media/posts/17/Screenshot_2.png","height":1079,"width":1919},"description":"I got another map accepted by Valve for Team Fortress 2! I'd like to just showcase some of the work I did for the map here.","author":{"@type":"Person","name":"Patrick Hennessy","url":"https://patcave.me/authors/patrick-hennessy/"},"publisher":{"@type":"Organization","name":"Patrick Hennessy"}}</script><style>.pswp--svg .pswp__button,
				          .pswp--svg .pswp__button--arrow--left:before,
				          .pswp--svg .pswp__button--arrow--right:before {
					          background-image: url(https://patcave.me/assets/svg/gallery-icons-light.svg);
			              }</style><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Boogaloo&family=Maven+Pro&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://patcave.me/assets/css/prism.css?v=3b135d1db236b56f00e6b8e7a4af7a98"></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://patcave.me/">The Patcave</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://patcave.me/" target="_self">Home</a></li><li><a href="https://patcave.me/about/" target="_self">About</a></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">Contact</span><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://www.linkedin.com/in/pmhennessy/" target="_blank">LinkedIn</a></li><li><a href="https://github.com/p-hennessy" target="_blank">Github</a></li><li><a href="https://www.youtube.com/channel/UCIw-YA385k1S5IOwYD-iV5Q" target="_blank">YouTube</a></li><li><a href="https://tf2maps.net/members/zeus.28272/" target="_blank">TF2Maps.net</a></li><li><a href="mailto:phennessy517@gmail.com" target="_blank">Email</a></li></ul></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://patcave.me/media/posts/17/Screenshot_2.png" srcset="https://patcave.me/media/posts/17/responsive/Screenshot_2-xs.png 300w, https://patcave.me/media/posts/17/responsive/Screenshot_2-sm.png 480w, https://patcave.me/media/posts/17/responsive/Screenshot_2-md.png 768w, https://patcave.me/media/posts/17/responsive/Screenshot_2-lg.png 1024w, https://patcave.me/media/posts/17/responsive/Screenshot_2-xl.png 1360w, https://patcave.me/media/posts/17/responsive/Screenshot_2-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1079" width="1919" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2023-07-12T22:33">July 12, 2023</time></div><h1>Sharkbay!</h1></div></header></div><div class="wrapper post__entry"><p>I got another map accepted by Valve for Team Fortress 2! I'd like to just showcase some of the work I did for the map here.</p><p>The map is called <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=2404226979">Sharkbay</a>, and the layout was done by <a href="https://tf2maps.net/members/billo.22663/">Billo</a>. This map has been well liked in the community for a long time, so I was happy to be able to be a part of it!</p><p>The map is a basic lobby-style <a href="https://wiki.teamfortress.com/wiki/King_of_the_Hill">King of the Hill</a> map that takes place in a New York harbor that has become infested with sharks.</p><hr><h2>Signs</h2><p>I've recently become sort of obsessed with signs and their ability to be created fairly easily and you can hide jokes and Easter eggs in them while giving your map an extra little polish. All of these were done 100% using <a href="https://www.adobe.com/products/substance3d-designer.html">Substance Designer</a>, which has quickly become my favorite program.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="4"><figure class="gallery__item"><a href="https://patcave.me/media/posts/17//gallery/sign001.png" data-size="512x512"><img loading="lazy" src="https://patcave.me/media/posts/17//gallery/sign001-thumbnail.png" alt="" width="512" height="512"></a></figure><figure class="gallery__item"><a href="https://patcave.me/media/posts/17//gallery/sign002.png" data-size="512x512"><img loading="lazy" src="https://patcave.me/media/posts/17//gallery/sign002-thumbnail.png" alt="" width="512" height="512"></a></figure><figure class="gallery__item"><a href="https://patcave.me/media/posts/17//gallery/sign009.png" data-size="512x512"><img loading="lazy" src="https://patcave.me/media/posts/17//gallery/sign009-thumbnail.png" alt="" width="512" height="512"></a></figure><figure class="gallery__item"><a href="https://patcave.me/media/posts/17//gallery/sign010.png" data-size="512x512"><img loading="lazy" src="https://patcave.me/media/posts/17//gallery/sign010-thumbnail.png" alt="" width="512" height="512"></a></figure></div></div><p>Another thing I have always tried to make a point to do is to add little calling cards for the mappers involved in the project. Here's the one's I made for myself and Billo:</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="2"><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/sign005-2.png" data-size="512x512"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/sign005-2-thumbnail.png" alt="" width="512" height="512"></a></figure><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/sign003-2.png" data-size="512x512"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/sign003-2-thumbnail.png" alt="" width="512" height="512"></a></figure></div></div><hr><h2>Models</h2><p>I was originally brought on to make a single model; the shark cage prop:</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="1"><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/Screenshot_2.png" data-size="1919x1079"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/Screenshot_2-thumbnail.png" alt="" width="720" height="405"></a></figure></div></div><p>This was one of my first bespoke models that I made 100% from scratch, and I was quite happy with how it turned out. Here is a video timeplase of me creating it!</p><figure class="post__video"><iframe loading="lazy" width="560" height="314" src="https://www.youtube.com/embed/aLeUEFKqQS8" allowfullscreen="allowfullscreen" data-mce-fragment="1"></iframe></figure><hr><p>This is incredibly nerdy, but thanks to the help another artist named Tianes, I learned how to do diffuse baking in Blender and unleash the power of my procedural ropes I had designed for TF2. I can basically make any shape rope I want using a spline system in Blender incredibly quickly.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="1"><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/Screenshot_4.png" data-size="1919x1079"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/Screenshot_4-thumbnail.png" alt="" width="720" height="405"></a></figure></div></div><hr><p>A rather large prop I did that has probably gone unnoticed was the garage door at mid. The brushwork version of this door like really bad so I just had to make it a prop. It's pretty simple, just 2 sliding doors, sort of rusty. The fact that it's gone unnoticed I think is a good thing because it means it fits the space well and reads as a door. </p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="1"><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/Screenshot_5.png" data-size="1919x1079"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/Screenshot_5-thumbnail.png" alt="" width="720" height="405"></a></figure></div></div><hr><h2>Soundscape</h2><p>I have never done a soundscape design before so this was a fun challenge. Basically none of the existing soundscapes matched the environment particularly well. I need a mix of watery, industrial, boat fog horns and seagull sounds. Thankfully all these sounds already existed in TF2's ambient sound files so it was just about mixing them correctly.</p><p>I also learned you can specify targets in the soundscape so the sounds come from a particular location in the map. This worked very well for setting direction to the fog horns and seagulls, as well as the faint car honking.</p><figure class="post__audio"><audio loading="lazy" controls="controls" src="https://cdn.discordapp.com/attachments/1118150163266023434/1119245487606878208/sharkbay_outside.mp3" data-mce-fragment="1"></audio></figure><hr><h2>Logic</h2><p>A lot of people have noticed the shark kill counter, this was one of those, "you know what would be cool?" things we were just spit balling. </p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="1"><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/Screenshot_3.png" data-size="1919x1079"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/Screenshot_3-thumbnail.png" alt="" width="720" height="405"></a></figure></div></div><p>Basically any time someone falls in the water and is killed by a shark, this number increments. This is a bit complicated how it actually works using Source logic but I'll briefly try to explain.</p><p>The heavy lifting is done by a <a href="https://developer.valvesoftware.com/wiki/Material_proxies">material proxy</a> called "<a href="https://developer.valvesoftware.com/wiki/Env_texturetoggle">ToggleTexture</a>" where you can fire an input to the <a href="https://developer.valvesoftware.com/wiki/Info_overlay">info_overlay</a> entity and cause it to change to the next frame in the VTF. Shout out to <a href="https://tf2maps.net/members/adam2.33350/">Adam</a> for helping me figure that part out!</p><p>So I created 2 VTF's, one with digits 1-9, and a second with blank-9. Then all I need is a single <a href="https://developer.valvesoftware.com/wiki/Math_counter">math_counter</a> to bump the second digit every 10 kills, and second math counter to track total kills so we can clamp it to 99.</p><p>Next there is an issue of <a href="https://en.wikipedia.org/wiki/Z-fighting">z-fighting</a> between info_overlays. Basically the sign on the brush was fighting with the 2 digits, so my solution was incredibly stupid; I created a 1hu thick <a href="https://developer.valvesoftware.com/wiki/Func_detail">func_detail</a> that as a totally blank texture on it, as in 100% white with a 100% alpha channel and applied the 2 digit overlays to that.</p><hr><p>Another thing I did was the flying seagulls.</p><p>The map has 3 different seagulls that fly. The one sitting on the derrick takes off when the point is capped, as if to imply he is annoyed by the ruckus caused by the point cap that he flies off. Don't worry though, he returns to his perch!</p><p>These are actually just retextured Half-Life 2 seagulls, so we get the full benefit of the seagull animations which there is a surprising amount of. Then all I needed to do was set up a <a href="https://developer.valvesoftware.com/wiki/Func_tracktrain">tracktrain</a> and a path of them to follow and periodically have them change animations when they pass certain path nodes. I'll say though, aligning the seagull to the one perched on the derrick was really hard because the tracktrain sometimes moves the model in a way that isn't very precise, but it works well enough I suppose.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="2"><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/Screenshot_6.png" data-size="1919x1079"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/Screenshot_6-thumbnail.png" alt="" width="720" height="405"></a></figure><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/Screenshot_8.png" data-size="1919x1052"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/Screenshot_8-thumbnail.png" alt="" width="720" height="395"></a></figure></div></div><hr><h2>Menu Photo Render</h2><p>I've always loved the skeuomorphic aesthetic of a lot of things in TF2; so I wanted to do something spicy for the menu photos for the map. This was done in Blender using a simple orthographic camera and a point light. The newspaper itself was created by Blaholtzen. This turned out great and it's really unique among menu photos in game.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="2"><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/Screenshot_1.png" data-size="1919x1079"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/Screenshot_1-thumbnail.png" alt="" width="720" height="405"></a></figure><figure class="gallery__item"><a href="https://patcave.me/media/posts/17/gallery/Screenshot_7.png" data-size="1919x1056"><img loading="lazy" src="https://patcave.me/media/posts/17/gallery/Screenshot_7-thumbnail.png" alt="" width="720" height="396"></a></figure></div></div></div><footer class="wrapper post__footer"><ul class="post__tag"><li><a href="https://patcave.me/tags/level-design/">Level Design</a></li></ul></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://patcave.me/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://patcave.me/its-2022-and-the-frontend-is-still-a-mess/" class="invert post__nav-link" rel="prev"><span>Previous</span> It&#x27;s 2022 and front-end is still a mess</a></div></div></nav></main><footer class="footer"><div class="footer__copyright"><p>© Patrick Hennessy 2014 - 2023</p></div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://patcave.me/assets/js/scripts.min.js?v=48e9576b9741cf2a93ab25c5689c9f5d"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://patcave.me/assets/js/photoswipe.min.js?v=b586a3bc288c989ecce7b81b48e35855"></script><script defer="defer" src="https://patcave.me/assets/js/photoswipe-ui-default.min.js?v=9952f77ca2b8fbc9449a268008ea8dee"></script><script>var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
          linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
          if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
          item.el=figureEl;items.push(item);}
          return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
          var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
          if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
          nodeIndex++;}
          if(index>=0){openPhotoSwipe(index,clickedGallery);}
          return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
          var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
          var pair=vars[i].split('=');if(pair.length<2){continue;}
          params[pair[0]]=pair[1];}
          if(params.gid){params.gid=parseInt(params.gid,10);}
          return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},
          mainClass:'pswp--dark',
          preload: [1,2],
          hideAnimationDuration:200,
          showAnimationDuration:0,
          bgOpacity: 0.7,
          showHideOpacity:true,
          closeOnScroll: true,
          arrowKeys: true,
          closeEl: true,
          captionEl: true,
          fullscreenEl: false,
          zoomEl: false,
          shareEl: false,
          counterEl: false,
          arrowEl: true,
          preloaderEl: true
          };if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
          if(isNaN(options.index)){return;}
          if(disableAnimation){options.showAnimationDuration=0;}
          gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();gallery.options.maxSpreadZoom = gallery.getZoomLevel();gallery.options.getDoubleTapZoom = function(isMouseClick, item) {return item.initialZoomLevel;};gallery.options.escKey=true;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
          var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};window.addEventListener('load', function () {initPhotoSwipeFromDOM('.gallery');}, false);</script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><script defer="defer" src="https://patcave.me/assets/js/prism.js?v=835d8c8293f3f257627e91340fc71e81"></script></body></html>